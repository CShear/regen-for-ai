# Regen for AI - Environment Configuration
# Copy this file to .env and fill in your values

# Regen Network Indexer GraphQL endpoint
REGEN_INDEXER_URL=https://api.regen.network/indexer/v1/graphql

# Regen Ledger REST endpoint
REGEN_LCD_URL=https://lcd-regen.keplr.app

# Regen Marketplace base URL (for purchase links)
REGEN_MARKETPLACE_URL=https://app.regen.network

# --- Direct On-Chain Retirement (optional) ---
# When configured, retire_credits executes purchases and retirements directly
# on-chain instead of returning marketplace links.

# 24-word BIP39 mnemonic for the Regen wallet that will sign transactions.
# IMPORTANT: This wallet must be funded with REGEN/USDC to pay for credits.
# REGEN_WALLET_MNEMONIC=word1 word2 ... word24

# Regen Network RPC endpoint (for signing and broadcasting transactions)
REGEN_RPC_URL=http://mainnet.regen.network:26657

# Regen chain ID (regen-1 for mainnet, regen-redwood-1 for testnet)
REGEN_CHAIN_ID=regen-1

# Payment provider: "crypto" (wallet balance) or "stripe" (card authorization + capture)
REGEN_PAYMENT_PROVIDER=crypto

# Default retirement jurisdiction (ISO 3166-1 alpha-2, e.g., US, DE, BR)
REGEN_DEFAULT_JURISDICTION=US

# Optional: protocol fee basis points for pooled monthly retirement budgets.
# Range: 800-1200 (8%-12%), default: 1000 (10%).
# REGEN_PROTOCOL_FEE_BPS=1000

# Optional: monthly batch credit-mix policy when credit_type is omitted.
# - balanced (default): auto split carbon+biodiversity using availability + relative price
# - off: disable policy and use single-pass selection across all eligible credits
# REGEN_BATCH_CREDIT_MIX_POLICY=balanced

# Optional: protocol fee REGEN acquisition provider.
# - disabled  (default): no REGEN acquisition step is executed
# - simulated: uses fixed rate conversion for planning/testing flows
# REGEN_ACQUISITION_PROVIDER=disabled

# Optional: simulated provider conversion rate in micro-REGEN per 1 USDC.
# default: 2000000 (2.0 REGEN per 1 USDC)
# REGEN_ACQUISITION_RATE_UREGEN_PER_USDC=2000000

# Optional: REGEN burn execution provider.
# - disabled  (default): no burn transaction is attempted
# - simulated: emits simulated burn metadata for local testing
# - onchain: broadcasts a MsgSend burn transfer to REGEN_BURN_ADDRESS
# REGEN_BURN_PROVIDER=disabled

# Required when REGEN_BURN_PROVIDER=onchain
# REGEN_BURN_ADDRESS=regen1...

# Identity auth hardening (email/OAuth verification sessions + recovery)
# Optional: auth state JSON file path (default: ./data/auth-state.json)
# REGEN_AUTH_STORE_PATH=./data/auth-state.json
# Strongly recommended: shared secret used for hashing/signing auth codes/state/tokens
# REGEN_AUTH_SECRET=replace-with-long-random-secret
# Optional: auth session TTL in seconds (default: 900)
# REGEN_AUTH_SESSION_TTL_SECONDS=900
# Optional: max verification attempts per session before lock (default: 5)
# REGEN_AUTH_MAX_ATTEMPTS=5
# Optional: recovery token TTL in seconds (default: 86400)
# REGEN_AUTH_RECOVERY_TTL_SECONDS=86400
# Optional: allowed OAuth providers CSV (default: google,github)
# REGEN_AUTH_ALLOWED_OAUTH_PROVIDERS=google,github

# Optional: Stripe payment intent settings (required if REGEN_PAYMENT_PROVIDER=stripe)
# STRIPE_SECRET_KEY=
# STRIPE_PAYMENT_METHOD_ID=
# STRIPE_CUSTOMER_ID=
# STRIPE_WEBHOOK_SECRET=

# Optional: Stripe recurring subscription price IDs for $1/$3/$5 tiers
# (required for manage_subscription action=subscribe)
# STRIPE_PRICE_ID_STARTER=price_...
# STRIPE_PRICE_ID_GROWTH=price_...
# STRIPE_PRICE_ID_IMPACT=price_...

# Optional: ecoBridge integration
# ECOBRIDGE_API_URL=https://api.bridge.eco
# ECOBRIDGE_ENABLED=true
# ECOBRIDGE_CACHE_TTL_MS=60000

# Optional: pool accounting ledger file path (default: ./data/pool-accounting-ledger.json)
# REGEN_POOL_ACCOUNTING_PATH=./data/pool-accounting-ledger.json
# Optional: pool accounting store lock tuning (defaults shown)
# REGEN_POOL_ACCOUNTING_LOCK_WAIT_MS=10000
# REGEN_POOL_ACCOUNTING_LOCK_RETRY_MS=25
# REGEN_POOL_ACCOUNTING_LOCK_STALE_MS=60000

# Optional: monthly batch execution history file path (default: ./data/monthly-batch-executions.json)
# REGEN_BATCH_EXECUTIONS_PATH=./data/monthly-batch-executions.json
# Optional: monthly batch execution store lock tuning (defaults shown)
# REGEN_BATCH_EXECUTIONS_LOCK_WAIT_MS=10000
# REGEN_BATCH_EXECUTIONS_LOCK_RETRY_MS=25
# REGEN_BATCH_EXECUTIONS_LOCK_STALE_MS=60000

# Optional: monthly reconciliation orchestration history file path (default: ./data/monthly-reconciliation-runs.json)
# REGEN_RECONCILIATION_RUNS_PATH=./data/monthly-reconciliation-runs.json
# Optional: reconciliation single-flight lock directory + stale-lock TTL
# REGEN_RECONCILIATION_LOCKS_DIR=./data/monthly-reconciliation-locks
# REGEN_RECONCILIATION_LOCK_TTL_MS=1800000
# Optional: monthly reconciliation history store lock tuning (defaults shown)
# REGEN_RECONCILIATION_RUNS_LOCK_WAIT_MS=10000
# REGEN_RECONCILIATION_RUNS_LOCK_RETRY_MS=25
# REGEN_RECONCILIATION_RUNS_LOCK_STALE_MS=60000

# Optional: subscriber certificate frontend settings
# Base URL prefix returned by publish_subscriber_certificate_page
# REGEN_CERTIFICATE_BASE_URL=https://regen.network/certificate
# Output directory for generated certificate HTML pages
# REGEN_CERTIFICATE_OUTPUT_DIR=./data/certificates
# Base URL prefix returned by publish_subscriber_dashboard_page
# REGEN_DASHBOARD_BASE_URL=https://regen.network/dashboard
# Output directory for generated dashboard HTML pages
# REGEN_DASHBOARD_OUTPUT_DIR=./data/dashboards
